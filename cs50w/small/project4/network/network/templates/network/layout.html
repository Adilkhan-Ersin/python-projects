{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <title>{% block title %}Social Network{% endblock %}</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link href="{% static 'network/styles.css' %}" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

    </head>
    
    <body>
      {% comment %} Side navbar for all pages except Login/Register {% endcomment %}
      {% block navbar %}
        <div class="d-flex justify-content-end position-absolute" style="height: 130vh; width: 37vw;" >
          <div style="height: auto; width: 275px; position: fixed; top: 0;">
            <div class="offcanvas-header my-3">
              <img class="" style="max-width: 50px;" src="{% static 'network/N-logo.svg' %}" alt="Logo">
            </div>
            <div class="offcanvas-body">
              <ul class="navbar-nav justify-content-end flex-grow-1 pe-3" style="font-size: 24px;">
                <li class="nav-item">
                  <a class="nav-link" style="color: #000" href="{% url 'index' %}"><i class="bi bi-house-door-fill"></i> All Posts</a>
                </li>
                {% if user.is_authenticated %}
                    <li class="nav-item">
                        <a class="nav-link" style="color: #000" href="{% url 'following' %}"><i class="bi bi-people-fill"></i> Following</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" style="color: #000" href="{% url 'logout' %}"><i class="bi bi-box-arrow-in-left"></i> Log Out</a>
                    </li>
                {% else %}
                    <li class="nav-item">
                        <a class="nav-link" style="color: #000" href="{% url 'login' %}"><i class="bi bi-box-arrow-in-right"></i> Log In</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" style="color: #000" href="{% url 'register' %}"><i class="bi bi-person-fill"></i> Register</a>
                    </li>
                {% endif %}
              </ul>
            </div>
            {% comment %} Username with link to profile {% endcomment %}
            <div class="offcanvas-footer py-2">
              {% if user.is_authenticated %}
                  <a class="p-0 text-decoration-none" style="font-size: 24px; color: #000" href="{% url 'profile' user_id=user.id %}"><strong><i class="bi bi-person-circle"></i> {{ user.username }}</strong></a>
              {% endif %}
            </div>
          </div>
        </div>
      {% endblock %}
        {% comment %} Index {% endcomment %}
      <div class="body" style="display: flex; flex-direction: column; align-items: start; margin-left: auto; width: 63vw;">
        {% block body %}
        {% endblock %}
      </div>
      <div class="login" style="display: flex;">
        {% block login %}
        {% endblock %}
      </div>
    </body>
    <script src="{% static 'network/app.js' %}"></script>
    {% block script %} {% endblock %}
</html>